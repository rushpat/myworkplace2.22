{"ast":null,"code":"var _jsxFileName = \"/Users/rushipat/Documents/Data/Programs/videochatapp/src/VideoChat.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport \"firebase/database\";\nimport classnames from \"classnames\";\nexport default class VideoChat extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      // getting local video stream\n      await this.props.onLogin(this.state.username);\n      console.log(\"calling onlogin\");\n      this.setState({\n        isLoggedIn: true\n      });\n    };\n\n    this.onLoginClicked = async () => {\n      await this.props.onLogin(this.state.username);\n      this.setState({\n        isLoggedIn: true\n      });\n    };\n\n    this.onStartCallClicked = () => {\n      this.props.startCall(this.state.username, this.state.userToCall);\n    };\n\n    this.renderVideos = () => {\n      return React.createElement(\"div\", {\n        className: classnames(\"videos\", {\n          active: this.state.isLoggedIn\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, this.state.username), React.createElement(\"video\", {\n        ref: this.props.setLocalVideoRef,\n        autoPlay: true,\n        playsInline: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, this.props.connectedUser), React.createElement(\"video\", {\n        ref: this.props.setRemoteVideoRef,\n        autoPlay: true,\n        playsInline: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })));\n    };\n\n    this.renderForms = () => {\n      return this.state.isLoggedIn ? React.createElement(\"div\", {\n        key: \"a\",\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Call to\"), React.createElement(\"input\", {\n        value: this.state.userToCall,\n        type: \"text\",\n        onChange: e => this.setState({\n          userToCall: e.target.value\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.onStartCallClicked,\n        id: \"call-btn\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Call\")) : React.createElement(\"div\", {\n        key: \"b\",\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Type a name\"), React.createElement(\"input\", {\n        value: this.state.username,\n        type: \"text\",\n        onChange: e => this.setState({\n          username: e.target.value\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        //onClick={this.onLoginClicked}\n        id: \"login-btn\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Login\"));\n    };\n\n    this.state = {\n      isLoggedIn: false,\n      userToCall: null,\n      username: this.props.username,\n      team: this.props.team\n    };\n    console.log(this.state.username);\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      id: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, this.props.connectedUser ? null : this.renderForms(), this.renderVideos());\n  }\n\n}","map":{"version":3,"sources":["/Users/rushipat/Documents/Data/Programs/videochatapp/src/VideoChat.js"],"names":["React","classnames","VideoChat","Component","constructor","props","componentDidMount","onLogin","state","username","console","log","setState","isLoggedIn","onLoginClicked","onStartCallClicked","startCall","userToCall","renderVideos","active","setLocalVideoRef","connectedUser","setRemoteVideoRef","renderForms","e","target","value","team","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAO,mBAAP;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,eAAe,MAAMC,SAAN,SAAwBF,KAAK,CAACG,SAA9B,CAAwC;AACrDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAYnBC,iBAZmB,GAYC,YAAY;AAC9B;AAEA,YAAM,KAAKD,KAAL,CAAWE,OAAX,CAAmB,KAAKC,KAAL,CAAWC,QAA9B,CAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WAAKC,QAAL,CAAc;AACZC,QAAAA,UAAU,EAAE;AADA,OAAd;AAGD,KApBkB;;AAAA,SAsBnBC,cAtBmB,GAsBF,YAAY;AAC3B,YAAM,KAAKT,KAAL,CAAWE,OAAX,CAAmB,KAAKC,KAAL,CAAWC,QAA9B,CAAN;AACA,WAAKG,QAAL,CAAc;AACZC,QAAAA,UAAU,EAAE;AADA,OAAd;AAGD,KA3BkB;;AAAA,SA6BnBE,kBA7BmB,GA6BE,MAAM;AACzB,WAAKV,KAAL,CAAWW,SAAX,CAAqB,KAAKR,KAAL,CAAWC,QAAhC,EAA0C,KAAKD,KAAL,CAAWS,UAArD;AACD,KA/BkB;;AAAA,SAiCnBC,YAjCmB,GAiCJ,MAAM;AACnB,aACE;AAAK,QAAA,SAAS,EAAEjB,UAAU,CAAC,QAAD,EAAW;AAAEkB,UAAAA,MAAM,EAAE,KAAKX,KAAL,CAAWK;AAArB,SAAX,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,KAAKL,KAAL,CAAWC,QAAnB,CADF,EAGE;AAAO,QAAA,GAAG,EAAE,KAAKJ,KAAL,CAAWe,gBAAvB;AAAyC,QAAA,QAAQ,MAAjD;AAAkD,QAAA,WAAW,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,KAAKf,KAAL,CAAWgB,aAAnB,CADF,EAEE;AACE,QAAA,GAAG,EAAE,KAAKhB,KAAL,CAAWiB,iBADlB;AAEE,QAAA,QAAQ,MAFV;AAGE,QAAA,WAAW,MAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CANF,CADF;AAiBD,KAnDkB;;AAAA,SAqDnBC,WArDmB,GAqDL,MAAM;AAClB,aAAO,KAAKf,KAAL,CAAWK,UAAX,GACL;AAAK,QAAA,GAAG,EAAC,GAAT;AAAa,QAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AACE,QAAA,KAAK,EAAE,KAAKL,KAAL,CAAWS,UADpB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,QAAQ,EAAGO,CAAD,IAAO,KAAKZ,QAAL,CAAc;AAAEK,UAAAA,UAAU,EAAEO,CAAC,CAACC,MAAF,CAASC;AAAvB,SAAd,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAOE;AACE,QAAA,OAAO,EAAE,KAAKX,kBADhB;AAEE,QAAA,EAAE,EAAC,UAFL;AAGE,QAAA,SAAS,EAAC,iBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,CADK,GAiBL;AAAK,QAAA,GAAG,EAAC,GAAT;AAAa,QAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AACE,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWC,QADpB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,QAAQ,EAAGe,CAAD,IAAO,KAAKZ,QAAL,CAAc;AAAEH,UAAAA,QAAQ,EAAEe,CAAC,CAACC,MAAF,CAASC;AAArB,SAAd,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAQE;AACE;AACA,QAAA,EAAE,EAAC,WAFL;AAGE,QAAA,SAAS,EAAC,iBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARF,CAjBF;AAkCD,KAxFkB;;AAEjB,SAAKlB,KAAL,GAAa;AACXK,MAAAA,UAAU,EAAE,KADD;AAEXI,MAAAA,UAAU,EAAE,IAFD;AAGXR,MAAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWI,QAHV;AAIXkB,MAAAA,IAAI,EAAE,KAAKtB,KAAL,CAAWsB;AAJN,KAAb;AAOAjB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAWC,QAAvB;AACD;;AAgFDmB,EAAAA,MAAM,GAAG;AACP,WACE;AAAS,MAAA,EAAE,EAAC,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKvB,KAAL,CAAWgB,aAAX,GAA2B,IAA3B,GAAkC,KAAKE,WAAL,EADrC,EAGG,KAAKL,YAAL,EAHH,CADF;AAOD;;AAnGoD","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport \"firebase/database\";\nimport classnames from \"classnames\";\n\nexport default class VideoChat extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false,\n      userToCall: null,\n      username: this.props.username,\n      team: this.props.team,\n    };\n\n    console.log(this.state.username);\n  }\n\n  componentDidMount = async () => {\n    // getting local video stream\n\n    await this.props.onLogin(this.state.username);\n    console.log(\"calling onlogin\");\n    this.setState({\n      isLoggedIn: true,\n    });\n  };\n\n  onLoginClicked = async () => {\n    await this.props.onLogin(this.state.username);\n    this.setState({\n      isLoggedIn: true,\n    });\n  };\n\n  onStartCallClicked = () => {\n    this.props.startCall(this.state.username, this.state.userToCall);\n  };\n\n  renderVideos = () => {\n    return (\n      <div className={classnames(\"videos\", { active: this.state.isLoggedIn })}>\n        <div>\n          <label>{this.state.username}</label>\n\n          <video ref={this.props.setLocalVideoRef} autoPlay playsInline></video>\n        </div>\n        <div>\n          <label>{this.props.connectedUser}</label>\n          <video\n            ref={this.props.setRemoteVideoRef}\n            autoPlay\n            playsInline\n          ></video>\n        </div>\n      </div>\n    );\n  };\n\n  renderForms = () => {\n    return this.state.isLoggedIn ? (\n      <div key=\"a\" className=\"form\">\n        <label>Call to</label>\n        <input\n          value={this.state.userToCall}\n          type=\"text\"\n          onChange={(e) => this.setState({ userToCall: e.target.value })}\n        />\n        <button\n          onClick={this.onStartCallClicked}\n          id=\"call-btn\"\n          className=\"btn btn-primary\"\n        >\n          Call\n        </button>\n      </div>\n    ) : (\n      <div key=\"b\" className=\"form\">\n        <label>Type a name</label>\n        <input\n          value={this.state.username}\n          type=\"text\"\n          onChange={(e) => this.setState({ username: e.target.value })}\n        />\n\n        <button\n          //onClick={this.onLoginClicked}\n          id=\"login-btn\"\n          className=\"btn btn-primary\"\n        >\n          Login\n        </button>\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <section id=\"container\">\n        {this.props.connectedUser ? null : this.renderForms()}\n\n        {this.renderVideos()}\n      </section>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}