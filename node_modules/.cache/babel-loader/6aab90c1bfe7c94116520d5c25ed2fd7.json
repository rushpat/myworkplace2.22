{"ast":null,"code":"export const doLogin = async (username, database, handleUpdate) => {\n  console.log(\"In doLogin\");\n  await database.ref(\"/notifs/\" + username).remove();\n  database.ref(\"/notifs/\" + username).on(\"value\", snapshot => {\n    snapshot.exists() && handleUpdate(snapshot.val(), username);\n  });\n};\nexport const doOffer = async (to, offer, database, username) => {\n  console.log(\"In doOffer\");\n  await database.ref(\"/notifs/\" + to).set({\n    type: \"offer\",\n    from: username,\n    offer: JSON.stringify(offer)\n  });\n};\nexport const doAnswer = async (to, answer, database, username) => {\n  console.log(\"In doAnswer\");\n  await database.ref(\"/notifs/\" + to).update({\n    type: \"answer\",\n    from: username,\n    answer: JSON.stringify(answer)\n  });\n};\nexport const doLeaveNotif = async (to, database, username) => {\n  console.log(\"In doLeaveNotif\");\n  await database.ref(\"/notifs/\" + to).update({\n    type: \"leave\",\n    from: username\n  });\n};\nexport const doCandidate = async (to, candidate, database, username) => {\n  console.log(\"In docandidate\"); // send the new candiate to the peer\n\n  await database.ref(\"/notifs/\" + to).update({\n    type: \"candidate\",\n    from: username,\n    candidate: JSON.stringify(candidate)\n  });\n};","map":{"version":3,"sources":["/Users/rushipat/Documents/Data/Programs/videochatapp/src/modules/FirebaseModule.js"],"names":["doLogin","username","database","handleUpdate","console","log","ref","remove","on","snapshot","exists","val","doOffer","to","offer","set","type","from","JSON","stringify","doAnswer","answer","update","doLeaveNotif","doCandidate","candidate"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG,OAAOC,QAAP,EAAiBC,QAAjB,EAA2BC,YAA3B,KAA4C;AACjEC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,QAAMH,QAAQ,CAACI,GAAT,CAAa,aAAaL,QAA1B,EAAoCM,MAApC,EAAN;AACAL,EAAAA,QAAQ,CAACI,GAAT,CAAa,aAAaL,QAA1B,EAAoCO,EAApC,CAAuC,OAAvC,EAAiDC,QAAD,IAAc;AAC5DA,IAAAA,QAAQ,CAACC,MAAT,MAAqBP,YAAY,CAACM,QAAQ,CAACE,GAAT,EAAD,EAAiBV,QAAjB,CAAjC;AACD,GAFD;AAGD,CANM;AAQP,OAAO,MAAMW,OAAO,GAAG,OAAOC,EAAP,EAAWC,KAAX,EAAkBZ,QAAlB,EAA4BD,QAA5B,KAAyC;AAC9DG,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,QAAMH,QAAQ,CAACI,GAAT,CAAa,aAAaO,EAA1B,EAA8BE,GAA9B,CAAkC;AACtCC,IAAAA,IAAI,EAAE,OADgC;AAEtCC,IAAAA,IAAI,EAAEhB,QAFgC;AAGtCa,IAAAA,KAAK,EAAEI,IAAI,CAACC,SAAL,CAAeL,KAAf;AAH+B,GAAlC,CAAN;AAKD,CAPM;AASP,OAAO,MAAMM,QAAQ,GAAG,OAAOP,EAAP,EAAWQ,MAAX,EAAmBnB,QAAnB,EAA6BD,QAA7B,KAA0C;AAChEG,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,QAAMH,QAAQ,CAACI,GAAT,CAAa,aAAaO,EAA1B,EAA8BS,MAA9B,CAAqC;AACzCN,IAAAA,IAAI,EAAE,QADmC;AAEzCC,IAAAA,IAAI,EAAEhB,QAFmC;AAGzCoB,IAAAA,MAAM,EAAEH,IAAI,CAACC,SAAL,CAAeE,MAAf;AAHiC,GAArC,CAAN;AAKD,CAPM;AASP,OAAO,MAAME,YAAY,GAAG,OAAOV,EAAP,EAAWX,QAAX,EAAqBD,QAArB,KAAkC;AAC5DG,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,QAAMH,QAAQ,CAACI,GAAT,CAAa,aAAaO,EAA1B,EAA8BS,MAA9B,CAAqC;AACzCN,IAAAA,IAAI,EAAE,OADmC;AAEzCC,IAAAA,IAAI,EAAEhB;AAFmC,GAArC,CAAN;AAID,CANM;AAQP,OAAO,MAAMuB,WAAW,GAAG,OAAOX,EAAP,EAAWY,SAAX,EAAsBvB,QAAtB,EAAgCD,QAAhC,KAA6C;AACtEG,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EADsE,CAEtE;;AACA,QAAMH,QAAQ,CAACI,GAAT,CAAa,aAAaO,EAA1B,EAA8BS,MAA9B,CAAqC;AACzCN,IAAAA,IAAI,EAAE,WADmC;AAEzCC,IAAAA,IAAI,EAAEhB,QAFmC;AAGzCwB,IAAAA,SAAS,EAAEP,IAAI,CAACC,SAAL,CAAeM,SAAf;AAH8B,GAArC,CAAN;AAKD,CARM","sourcesContent":["export const doLogin = async (username, database, handleUpdate) => {\n  console.log(\"In doLogin\");\n  await database.ref(\"/notifs/\" + username).remove();\n  database.ref(\"/notifs/\" + username).on(\"value\", (snapshot) => {\n    snapshot.exists() && handleUpdate(snapshot.val(), username);\n  });\n};\n\nexport const doOffer = async (to, offer, database, username) => {\n  console.log(\"In doOffer\");\n  await database.ref(\"/notifs/\" + to).set({\n    type: \"offer\",\n    from: username,\n    offer: JSON.stringify(offer),\n  });\n};\n\nexport const doAnswer = async (to, answer, database, username) => {\n  console.log(\"In doAnswer\");\n  await database.ref(\"/notifs/\" + to).update({\n    type: \"answer\",\n    from: username,\n    answer: JSON.stringify(answer),\n  });\n};\n\nexport const doLeaveNotif = async (to, database, username) => {\n  console.log(\"In doLeaveNotif\");\n  await database.ref(\"/notifs/\" + to).update({\n    type: \"leave\",\n    from: username,\n  });\n};\n\nexport const doCandidate = async (to, candidate, database, username) => {\n  console.log(\"In docandidate\");\n  // send the new candiate to the peer\n  await database.ref(\"/notifs/\" + to).update({\n    type: \"candidate\",\n    from: username,\n    candidate: JSON.stringify(candidate),\n  });\n};\n"]},"metadata":{},"sourceType":"module"}